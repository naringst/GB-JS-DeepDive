# 11장 원시 값과 객체의 비교

# 11.1 원시 값

원시 타입의 값 : 변경 불가능한 값

- 변수에 할당하면 확보된 메모리 공간에 실제 값이 저장된다.
- 다른 변수에 할당하면 원본의 원시 값이 복사되어 전달된다 : `copy by value`

객체 타입의 값 : 변경 가능한 값

- 객체를 변수에 할당하면 변수(확보된 메모리 공간)에는 참조 값이 저장된다.
- 다른 변수에 할당하면 참조 값이 복사되어 전달된다 : `copy by reference`

## 11.1.1 변경 불가능한 값

- 원시 타입의 값은 변경 불가능한 값이다.
  - 데이터의 신뢰성을 보장한다.
- 한번 생성된 원시 값은 읽기 전용으로서 값을 변경할 수 없다.
- 원시 값 자체를 바꿀 수 없다는 말이지 변수에 할당하는 값을 바꾸어 변수 값은 바꿀 수 있다.
- 원시 값을 할당한 변수에 새로운 원시 값을 재할당하면 새로운 메모리 공간을 확보하고 재할당한 원시 값을 저장한 후, 변수는 새롭게 재할당한 원시 값을 가리킨다. 원시값의 이러한 특성 : `불변성`
- 불변성을 갖는 원시 값을 할당한 변수는 재할당 이외에 변수 값을 변경할 수 있는 방법이 없다.

## 11.1.2 문자열과 불변성

- 원시 타입별로 메모리 공간의 크기가 정해져 있다. 브라우저 제조사 구현에 따라 다르다.
- 문자열은 문자 개수에 따라 1문자당 2바이트로 결정된다.
- 문자열은 유사배열객체이다.
- str[0] = ‘S’처럼 일부를 변경하려고 하면 반영되지 않으며, 재할당하는 것은 가능하다.

## 11.1.3 값에 의한 전달

변수에 원시 값을 갖는 변수를 할당하면 할당받는 변수(copy)에는 원시값이 복사되어 전달된다. 이를 값에 의한 전달이라 한다.

```jsx
var scroe = 80;

var copy = score;

console.log(score, copy); //80 80
console.log(score === copy); //true : 같은 80이라는 값을 가진다는 의미의 동일

copy = 70;

console.log(score, copy); // 70, 80
```

- score변수의 값을 바꾸거나 copy 값을 바꾸더라도 각각 다른 변수에는 영향을 주지 않는다.
- 왜냐하면 각각 다른 메모리 공간에 저장되기 때문이다.
- 자바스크립트에서는 변수에는 값이 전달되는 것이 아니라 주소가 전달되는데, 식별자는 메모리 주소를 기억하고 있기 때문이다. 따라서 score, copy의 값은 각각 다른 메모리 주소에 저장되고, 그 주소 값을 score, copy가 각각 가지고 있게 되는 것이다. 따라서 값에 의한 전달도 사실은 메모리 주소를 전달하는 것이다.

# 11.2 객체

- 프로퍼티 개수가 정해져 있지 않으며 동적으로 추가 및 삭제 가능
- 객체는 메모리 크기를 동적으로 사용하고 복합적인 자료구조이므로 관리 방식이 원시값에 비해 복잡하다.
- 프로퍼티 키를 해시 테이블(과 유사한 방식)로 사용해 객체를 구현한다.

## 11.2.1 변경 가능한 값

- 객체(참조) 타입의 값. 즉 객체는 변경 가능한 값이다.
- 원시 값을 할당한 변수는 원시 값 자체를 값으로 갖지만, 객체를 할당한 변수가 기억하는 메모리 주소를 통해 메모리 공간에 접근하면 그곳에도 참조 값이 있다. 참조 값은 생성된 객체가 저장된 메모리 공간의 주소이다.
- 객체는 변경 가능한 값이므로, 객체를 할당한 변수는 재할당 없이 객체를 직접 변경할 수 있다.
- 객체는 여러 개의 식별자가 하나의 객체를 공유할 수 있다.

## 11.2.2 참조에 의한 전달

여러 개의 식별자가 하나의 객체를 공유하는 것의 의미는 다음과 같다.

- 객체를 가리키는 변수 person를 다른변수(사본, copy)에 할당하면 원본의 참조 값이 복사되어 전달된다. 이를 참조에 의한 전달이라 한다.
- 따라서 두 개의 식별자가 하나의 객체를 공유하게 된다. (각 식별자가 가지고 있는 메모리 공간의 주소가 하나의 객체로 같다)

```jsx
var person = {
  name: "Lee",
};

var copy = person;

person.name = "k";
console.log(copy.name); // 'k'
```

- 결국 값에 의한 전달과 참조에 의한 전달은 식별자가 기억하는 메모리 공간에 저장돼 있는 값을 복사해 전달한다는 면에서 동일하다. 다만 식별자가 기억하는 메모리 공간에 값이 있으냐 주소가 있느냐의 차이이다.
- 자바스크립트에서는 ‘공유에 의한 전달’이라고 하는 경우도 있다.
